!function(){function s(){this.subscribers=[],this.subscribe=function(s){this.subscribers.push(s)},this.publish=function(s){for(var i=0;i<this.subscribers.length;i++){var t=this.subscribers[i];t.execute(s)}}}function i(){function i(s){this.isStarted&&this.callback.apply(null,s)}function t(i,t){this.topics=i instanceof Array?i.sort():new Array(i),this.callback=t;var r=this;this.topics.forEach(function(i,t){var c=s.get(i);c.subscribe(r)})}this.subscribe=t,this.execute=i,this.id=c++,this.isStarted=!0}function t(s,t){var r=new i;return r.subscribe(s,t),r}function r(i,t){var r=s.get(i);r.publish(t)}var c=1;window.subscribe=t,window.publish=r,s.topics={},s.get=function(i){var t=s.topics[i];return t||(t=new s(i),s.topics[i]=t),t}}();
